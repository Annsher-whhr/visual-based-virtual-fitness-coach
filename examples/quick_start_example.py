# -*- coding: utf-8 -*-
"""
å¿«é€Ÿå…¥é—¨ç¤ºä¾‹ - å±•ç¤ºå¦‚ä½•ä½¿ç”¨æ™ºèƒ½é€‰å¸§å™¨
"""

import sys


def example_usage():
    """æ¼”ç¤ºåŸºæœ¬ç”¨æ³•"""
    
    print("="*70)
    print("  å¤ªææ‹³èµ·åŠ¿åŠ¨ä½œ - æ™ºèƒ½å…³é”®å¸§é€‰æ‹©å™¨ å¿«é€Ÿå…¥é—¨")
    print("="*70)
    print()
    
    print("ğŸ“š èƒŒæ™¯è¯´æ˜:")
    print("  ä½ çš„æ¨¡å‹åŸºäº4ä¸ªæ ‡å‡†å…³é”®å¸§è®­ç»ƒï¼Œåˆ†åˆ«å¯¹åº”èµ·åŠ¿åŠ¨ä½œçš„å››ä¸ªé˜¶æ®µ:")
    print("  1. èµ·å§‹å§¿æ€ - æ‰‹è‡‚é«˜ä¸¾ï¼ŒåŒè„šå¹¶æ‹¢ï¼Œå¤´éƒ¨å±…ä¸­")
    print("  2. é‡å¿ƒè½¬ç§»æœŸ - æ‰‹è‡‚ä»é«˜ï¼ŒåŒè„šå·²æ‰“å¼€ï¼Œå¤´éƒ¨ç§»åˆ°ä¸¤è„šä¸­ç‚¹æ­£ä¸Šæ–¹ â­")
    print("  3. æ‰‹è‡‚ä¸‹è½æœŸ - æ‰‹è‡‚ä¸‹è½å¹¶å¼¯æ›²ï¼ŒåŒè„šç»§ç»­åˆ†å¼€")
    print("  4. å®Œæˆå§¿æ€ - æ‰‹è‡‚ä¸­ç­‰é«˜åº¦ï¼ŒåŒè„šæœ€å¤§è·ç¦»ï¼Œè†ç›–å¼¯æ›²")
    print()
    
    print("ğŸ¯ é—®é¢˜:")
    print("  å¦‚ä½•ä»ä»»æ„è§†é¢‘ä¸­è‡ªåŠ¨é€‰æ‹©å‡ºä¸è¿™4ä¸ªæ ‡å‡†å¸§æœ€åŒ¹é…çš„å¸§ï¼Ÿ")
    print()
    
    print("âœ… è§£å†³æ–¹æ¡ˆ:")
    print("  ä½¿ç”¨åŸºäºç‰¹å¾ç›¸ä¼¼åº¦çš„æ™ºèƒ½é€‰å¸§ç®—æ³• (frame_selector.py)")
    print()
    
    print("="*70)
    print("  ä½¿ç”¨æ–¹æ³•")
    print("="*70)
    print()
    
    print("æ–¹æ³•1: é€šè¿‡ä¸»ç¨‹åºè¿è¡Œï¼ˆæœ€ç®€å•ï¼‰")
    print("-" * 70)
    print("  python main.py -v video/qishi2.mp4")
    print()
    print("  ç¨‹åºä¼šè‡ªåŠ¨:")
    print("  â€¢ æå–è§†é¢‘ä¸­æ¯ä¸€å¸§çš„ç‰¹å¾")
    print("  â€¢ è®¡ç®—ä¸æ ‡å‡†å¸§çš„ç›¸ä¼¼åº¦")
    print("  â€¢ é€‰æ‹©æœ€åŒ¹é…çš„4å¸§")
    print("  â€¢ è¾“å…¥æ¨¡å‹è¿›è¡Œè¯„ä¼°")
    print("  â€¢ ç»™å‡ºåŠ¨ä½œè´¨é‡åˆ†æ•°å’Œæ”¹è¿›å»ºè®®")
    print()
    
    print("æ–¹æ³•2: ä½¿ç”¨æµ‹è¯•è„šæœ¬ï¼ˆç”¨äºè°ƒè¯•å’Œåˆ†æï¼‰")
    print("-" * 70)
    print("  python test_frame_selector.py -v video/qishi2.mp4")
    print()
    print("  ä¼šç”Ÿæˆ:")
    print("  â€¢ è¯¦ç»†çš„é€‰å¸§æŠ¥å‘Š")
    print("  â€¢ å„å¸§çš„ç‰¹å¾å¯¹æ¯”")
    print("  â€¢ ç›¸ä¼¼åº¦çƒ­åŠ›å›¾ (frame_selection_heatmap.png)")
    print()
    
    print("æ–¹æ³•3: åœ¨ä»£ç ä¸­è°ƒç”¨")
    print("-" * 70)
    print("""
  from frame_selector import select_frames_by_similarity

  # å‡è®¾ä½ å·²ç»æœ‰äº†metrics_listï¼ˆä»è§†é¢‘æå–çš„ç‰¹å¾ï¼‰
  indices, info = select_frames_by_similarity(
      metrics_list,
      min_frame_gap=3,  # ç›¸é‚»å¸§æœ€å°é—´éš”
      verbose=True      # æ‰“å°è¯¦ç»†ä¿¡æ¯
  )

  # è·å–é€‰ä¸­çš„å¸§
  selected_frames = [metrics_list[i] for i in indices]
  
  # è¾“å…¥æ¨¡å‹é¢„æµ‹
  from taichi_ai.predict import predict_quality
  result = predict_quality(selected_frames)
  print(f"åŠ¨ä½œè´¨é‡: {result['score']:.1%}")
  print(f"å»ºè®®: {result['advice']}")
    """)
    
    print("="*70)
    print("  æ ¸å¿ƒç®—æ³•åŸç†")
    print("="*70)
    print()
    print("1. ç‰¹å¾ç›¸ä¼¼åº¦è®¡ç®—")
    print("   â€¢ å¯¹æ¯ä¸ªè§†é¢‘å¸§è®¡ç®—ä¸æ ‡å‡†å¸§çš„åŠ æƒç‰¹å¾è·ç¦»")
    print("   â€¢ ä¸åŒé˜¶æ®µå…³æ³¨ä¸åŒç‰¹å¾ï¼ˆå¦‚ç¬¬1å¸§å¼ºè°ƒæ‰‹è‡‚é«˜åº¦ï¼‰")
    print("   â€¢ ç›¸ä¼¼åº¦åˆ†æ•° = 100 Ã— exp(-åŠ æƒè·ç¦»)")
    print()
    print("2. åŠ¨æ€è§„åˆ’ä¼˜åŒ–")
    print("   â€¢ æ‰¾åˆ°æ€»ç›¸ä¼¼åº¦æœ€é«˜çš„4å¸§åºåˆ—")
    print("   â€¢ ä¿è¯å¸§çš„æ—¶é—´é¡ºåºå’Œæœ€å°é—´éš”")
    print()
    print("3. æ™ºèƒ½å›é€€")
    print("   â€¢ å¦‚æœè§†é¢‘å¤ªçŸ­æˆ–è´¨é‡å¤ªå·®")
    print("   â€¢ è‡ªåŠ¨ä½¿ç”¨å‡åŒ€åˆ†å¸ƒç­–ç•¥")
    print()
    
    print("="*70)
    print("  è¾“å‡ºç¤ºä¾‹")
    print("="*70)
    print("""
============================================================
æ™ºèƒ½é€‰å¸§ç»“æœï¼ˆåŸºäºç‰¹å¾ç›¸ä¼¼åº¦åŒ¹é…ï¼‰
============================================================
æ€»ç›¸ä¼¼åº¦åˆ†æ•°: 345.67
å¹³å‡ç›¸ä¼¼åº¦: 86.42%

å„å¸§è¯¦æƒ…:

  æ ‡å‡†å¸§1 (èµ·å§‹å§¿æ€): è§†é¢‘å¸§ç´¢å¼• 5
    ç›¸ä¼¼åº¦: 92.34%
    arm_height_ratio: 0.975 (æ ‡å‡†: 0.984)
    foot_distance: 0.082 (æ ‡å‡†: 0.077)

  æ ‡å‡†å¸§2 (è…¿éƒ¨æ‰“å¼€åˆæœŸ): è§†é¢‘å¸§ç´¢å¼• 15
    ç›¸ä¼¼åº¦: 88.50%
    ...

============================================================

ğŸ¯ æ¨¡å‹é¢„æµ‹ç»“æœ
============================================================
åŠ¨ä½œè´¨é‡åˆ†æ•°: 85.30%
åé¦ˆå»ºè®®: åŠ¨ä½œæ­£ç¡®ï¼Œè¯·ä¿æŒã€‚
============================================================
    """)
    
    print("="*70)
    print("  å‚æ•°è°ƒä¼˜")
    print("="*70)
    print()
    print("è°ƒæ•´æœ€å°å¸§é—´éš”:")
    print("  python test_frame_selector.py -v video/qishi2.mp4 --min-gap 5")
    print("  â€¢ è§†é¢‘è¾ƒå¿«: å¢å¤§åˆ°5-8")
    print("  â€¢ è§†é¢‘è¾ƒæ…¢: å‡å°åˆ°1-2")
    print()
    print("è°ƒæ•´ç‰¹å¾æƒé‡:")
    print("  ç¼–è¾‘ frame_selector.py ä¸­çš„ FEATURE_WEIGHTS å­—å…¸")
    print()
    
    print("="*70)
    print("  ä¸‹ä¸€æ­¥")
    print("="*70)
    print()
    print("1. è¿è¡Œæµ‹è¯•è„šæœ¬ï¼Œçœ‹çœ‹æ•ˆæœ:")
    print("   python test_frame_selector.py -v video/qishi2.mp4")
    print()
    print("2. æŸ¥çœ‹ç”Ÿæˆçš„ç›¸ä¼¼åº¦çƒ­åŠ›å›¾:")
    print("   frame_selection_heatmap.png")
    print()
    print("3. å¦‚æœæ•ˆæœä¸ç†æƒ³ï¼Œæ ¹æ®è¾“å‡ºè°ƒæ•´å‚æ•°")
    print()
    print("4. è¿è¡Œå®Œæ•´çš„è¯„ä¼°ç³»ç»Ÿ:")
    print("   python main.py -v video/qishi2.mp4")
    print()
    
    print("="*70)
    print("ğŸ“– è¯¦ç»†æ–‡æ¡£: FRAME_SELECTION_GUIDE.md")
    print("="*70)
    print()


if __name__ == "__main__":
    example_usage()

